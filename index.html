<!doctype html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="Ù†ÛŒÙ…Ø§ Ù†Ø¸Ø±ÛŒ â€” Ù…Ù‡Ù†Ø¯Ø³ Ø´Ø¨Ú©Ù‡. Ø·Ø±Ø§Ø­ÛŒØŒ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ùˆ Ø§Ù…Ù†â€ŒØ³Ø§Ø²ÛŒ Ø´Ø¨Ú©Ù‡Ø› Wireshark, Issabel, CCNA, CCNP" />
  <title>Ù†ÛŒÙ…Ø§ Ù†Ø¸Ø±ÛŒ | Ù…Ù‡Ù†Ø¯Ø³ Ø´Ø¨Ú©Ù‡2</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0f1220;
      --panel:#0b0d14;
      --card:#151824;
      --text:#e6eef8;
      --muted:#98a3b0;
      --accent:#9f7aea;
      --accent-strong:#7c3aed;
      --border:rgba(255,255,255,0.06);
      --shadow:0 8px 22px rgba(2,6,23,0.6);
      --nav-width:260px;
      --radius:12px;
      --ctrl-size:48px;
      --max-content:980px;
    }

    html,body{height:100%}
    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100%;
      font-family:"Vazirmatn", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
      background:var(--bg);
      color:var(--text);
      display:flex;
      gap:24px;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    /* controls */
    .controls{
      position:fixed;
      top:12px;
      right:12px;
      display:flex;
      gap:10px;
      z-index:1600;
      align-items:center;
    }
    .ctrl{
      width:var(--ctrl-size);
      height:var(--ctrl-size);
      border-radius:12px;
      display:inline-grid;
      place-items:center;
      background:linear-gradient(180deg,var(--card),rgba(0,0,0,0.02));
      color:var(--text);
      border:1px solid var(--border);
      box-shadow:var(--shadow);
      cursor:pointer;
      transition:transform .12s ease,box-shadow .12s ease;
    }
    .ctrl:active{transform:scale(.98)}
    .ctrl:focus{outline:3px solid rgba(124,58,237,0.14);outline-offset:2px}

    .tooltip{
      position:absolute;
      top:calc(100% + 8px);
      right:50%;
      transform:translateX(50%) translateY(6px);
      background:rgba(10,10,12,0.9);
      color:#fff;
      font-size:13px;
      padding:6px 8px;
      border-radius:8px;
      white-space:nowrap;
      opacity:0;
      pointer-events:none;
      transition:opacity .14s ease,transform .14s ease;
      z-index:1200;
    }
    .ctrl:focus .tooltip,
    .ctrl:hover .tooltip{opacity:1;transform:translateX(50%) translateY(0);pointer-events:auto}

    /* nav */
    nav{
      width:var(--nav-width);
      background:linear-gradient(180deg,var(--panel),rgba(0,0,0,0.02));
      padding:28px 18px;
      border-left:1px solid var(--border);
      height:100vh;
      position:sticky;
      top:0;
      align-self:flex-start;
      display:flex;
      flex-direction:column;
      gap:12px;
      transition:transform .25s ease;
    }
    nav h2{margin:0 0 6px 0;font-size:1.1rem;color:var(--accent)}
    .nav-link{display:block;padding:10px 12px;border-radius:10px;color:var(--text);text-decoration:none;font-weight:600;cursor:pointer}
    .nav-link:hover,.nav-link:focus{background:rgba(255,255,255,0.02);color:var(--accent)}
    .nav-actions{margin-top:auto}
    .nav-footer{text-align:center;color:var(--accent);padding:8px 0;font-weight:600}

    main{
      flex:1;
      padding:34px;
      max-width:var(--max-content);
      margin:0 auto 40px auto;
      width:100%;
    }

    section{display:none}
    section.active{display:block}

    header.profile{
      display:flex;
      gap:16px;
      align-items:center;
      justify-content:space-between;
      padding:18px;
      border-radius:var(--radius);
      border:1px solid var(--border);
      background:linear-gradient(90deg,rgba(255,255,255,0.02),transparent);
    }
    .profile-left{display:flex;gap:14px;align-items:center}
    .avatar{width:72px;height:72px;border-radius:12px;background:linear-gradient(135deg,var(--accent),var(--accent-strong));display:grid;place-items:center;color:#fff;font-weight:700;font-size:1.05rem;flex-shrink:0}
    .profile-meta h1{margin:0;font-size:1.6rem}
    .profile-meta p{margin:6px 0 0 0;color:var(--muted);font-size:0.98rem}

    .grid{display:flex;flex-wrap:wrap;gap:16px;margin-top:18px}
    .card{background:var(--card);border:1px solid var(--border);border-radius:10px;padding:14px;width:220px;text-align:center;box-shadow:0 8px 20px rgba(2,6,23,0.4)}
    .card img{width:40px;height:40px;object-fit:contain;margin-bottom:10px;display:block;margin-inline:auto}
    .card p{margin:0;font-weight:700;color:var(--text)}

    .skill-bar{height:10px;background:rgba(255,255,255,0.04);border-radius:999px;overflow:hidden;margin-top:10px}
    .skill-level{height:100%;width:0;background:linear-gradient(90deg,var(--accent-strong),var(--accent));transition:width .7s cubic-bezier(.2,.9,.2,1)}

    .contact-list{display:flex;gap:14px;margin-top:14px;justify-content:center;align-items:center;flex-wrap:wrap}
    .contact-item a{display:inline-flex;gap:10px;align-items:center;text-decoration:none;color:var(--text);padding:8px;border-radius:8px}
    .logo{width:36px;height:36px;border-radius:8px;display:grid;place-items:center;background:var(--card);border:1px solid var(--border);color:var(--accent);flex:0 0 36px}
    .contact-text{color:var(--muted);font-weight:700;font-size:0.98rem}

    .visual-hide{position:absolute!important;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0 0 0 0);white-space:nowrap;border:0}

    /* print */
    @media print{
      *{ -webkit-print-color-adjust:exact; print-color-adjust:exact }
      body{background:#fff;color:#000}
      nav,.controls,.nav-backdrop{display:none!important}
      main{padding:0;max-width:100%}
      section{display:block!important;break-inside:avoid;page-break-inside:avoid;color:#000}
      .avatar{display:none}
      .card{box-shadow:none;background:transparent;border:1px solid #ddd;margin:6px 0}
      .contact-list{display:none}
      .print-contact{display:block}
      .nav-footer{color:#000!important}
    }

    /* responsive */
    @media (max-width:880px){
      nav{position:fixed;top:0;bottom:0;right:0;left:auto;width:92%;max-width:420px;transform:translateX(110%);box-shadow:-8px 0 32px rgba(2,6,23,0.4);z-index:1105}
      body.nav-open nav{transform:translateX(0)}
      .nav-backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.48);opacity:0;pointer-events:none;transition:opacity .22s ease;z-index:1090}
      body.nav-open .nav-backdrop{opacity:1;pointer-events:auto}
      main{padding:calc(18px + 72px) 18px 18px}
      .controls{right:12px;left:auto;top:10px}
    }

    :focus{outline:none}
    :focus-visible{outline:3px solid rgba(124,58,237,0.16);outline-offset:2px;border-radius:8px}
  </style>
</head>
<body data-lang="fa">
  <div class="nav-backdrop" id="navBackdrop" aria-hidden="true"></div>

  <div class="controls" role="toolbar" aria-label="Ú©Ù†ØªØ±Ù„â€ŒÙ‡Ø§">
    <button id="navToggle" class="ctrl" aria-controls="mainNav" aria-expanded="false" aria-label="Ø¨Ø§Ø² Ùˆ Ø¨Ø³ØªÙ‡ Ú©Ø±Ø¯Ù† Ù…Ù†Ùˆ" title="Ù…Ù†Ùˆ" type="button">
      <svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" focusable="false">
        <g stroke="currentColor" stroke-width="1.6" stroke-linecap="round">
          <line x1="4" y1="7" x2="20" y2="7"></line>
          <line x1="4" y1="12" x2="20" y2="12"></line>
          <line x1="4" y1="17" x2="20" y2="17"></line>
        </g>
      </svg>
      <span class="tooltip" role="status" aria-hidden="true">Ù…Ù†Ùˆ</span>
    </button>

    <button id="printCtrl" class="ctrl" title="Ú†Ø§Ù¾" aria-label="Ú†Ø§Ù¾" type="button">
      <svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" focusable="false">
        <rect x="3" y="6" width="18" height="5" rx="1" stroke="currentColor" stroke-width="1.4" fill="none"/>
        <rect x="7" y="2" width="10" height="5" rx="0.6" stroke="currentColor" stroke-width="1.2" fill="none"/>
        <rect x="6.5" y="9.2" width="11" height="7" rx="0.8" fill="currentColor" opacity="0.12"/>
      </svg>
      <span class="tooltip" role="status" aria-hidden="true">Ú†Ø§Ù¾</span>
    </button>
  </div>

  <nav id="mainNav" aria-label="Ù†Ø§ÙˆØ¨Ø±ÛŒ">
    <h2 id="navTitle">Ù†ÛŒÙ…Ø§ Ù†Ø¸Ø±ÛŒ</h2>
    <a class="nav-link" data-target="about" href="#about">Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ù†</a>
    <a class="nav-link" data-target="bio" href="#bio">Ø²Ù†Ø¯Ú¯ÛŒâ€ŒÙ†Ø§Ù…Ù‡</a>
    <a class="nav-link" data-target="certs" href="#certs">Ù…Ø¯Ø§Ø±Ú©</a>
    <a class="nav-link" data-target="skills" href="#skills">Ù…Ù‡Ø§Ø±Øªâ€ŒÙ‡Ø§</a>
    <a class="nav-link" data-target="contact" href="#contact">ØªÙ…Ø§Ø³</a>

    <div class="nav-actions" aria-hidden="true"></div>
    <div class="nav-footer">Â© <span id="yearNav"></span> Ù†ÛŒÙ…Ø§ Ù†Ø¸Ø±ÛŒ</div>
  </nav>

  <main>
    <section id="about" class="active" aria-labelledby="about-title">
      <header class="profile" role="region" aria-labelledby="about-title">
        <div class="profile-left">
          <div class="avatar" aria-hidden="true">NN</div>
          <div class="profile-meta">
            <h1 id="fullName">Ù†ÛŒÙ…Ø§ Ù†Ø¸Ø±ÛŒ</h1>
            <p id="subtitle">Ù…Ù‡Ù†Ø¯Ø³ Ø´Ø¨Ú©Ù‡ Ùˆ ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ù‡</p>
          </div>
        </div>
        <div style="text-align:left;min-width:180px">
          <div style="color:var(--muted);font-size:0.95rem">Ø·Ø±Ø§Ø­ÛŒ Ø´Ø¯Ù‡ ØªÙˆØ³Ø·</div>
          <div style="margin-top:6px;font-weight:700;color:var(--accent)">Microsoft Copilot</div>
        </div>
      </header>

      <h2 id="about-title" style="margin-top:12px;color:var(--accent)">Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ù†</h2>
      <p style="margin-top:12px;color:var(--muted)">Ù…Ù‡Ù†Ø¯Ø³ Ø´Ø¨Ú©Ù‡ Ø¨Ø§ ØªÙ…Ø±Ú©Ø² Ø¨Ø± Ø·Ø±Ø§Ø­ÛŒØŒ Ø§Ù…Ù†â€ŒØ³Ø§Ø²ÛŒ Ùˆ Ù…Ø§Ù†ÛŒØªÙˆØ±ÛŒÙ†Ú¯ Ø´Ø¨Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ù…ØªÙˆØ³Ø· ØªØ§ Ø¨Ø²Ø±Ú¯. Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯ Ø¨Ù‡ Ø§ØªÙˆÙ…Ø§Ø³ÛŒÙˆÙ†ØŒ Ø¢Ù†Ø§Ù„ÛŒØ² ØªØ±Ø§ÙÛŒÚ© Ùˆ Ø±Ø§Ù‡Ú©Ø§Ø±Ù‡Ø§ÛŒ Open Source.</p>
    </section>

    <section id="bio" aria-labelledby="bio-title">
      <h2 id="bio-title" style="color:var(--accent)">Ø²Ù†Ø¯Ú¯ÛŒâ€ŒÙ†Ø§Ù…Ù‡</h2>
      <p style="color:var(--muted)">Ù†ÛŒÙ…Ø§ Ù†Ø¸Ø±ÛŒ â€” ØªØ¬Ø±Ø¨Ù‡ Ø¯Ø± Ø·Ø±Ø§Ø­ÛŒØŒ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ùˆ Ø¹ÛŒØ¨â€ŒÛŒØ§Ø¨ÛŒ Ø´Ø¨Ú©Ù‡Ø› Ú©Ø§Ø± Ø¨Ø§ WiresharkØŒ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ PBX Ø¨Ø§ Issabel Ùˆ Ú¯ÙˆØ§Ù‡ÛŒÙ†Ø§Ù…Ù‡â€ŒÙ‡Ø§ÛŒ CCNA/CCNP.</p>
    </section>

    <section id="contact" aria-labelledby="contact-title">
      <h2 id="contact-title">ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ù†</h2>
      <p style="color:var(--muted)">Ø±ÙˆÛŒ Ø¢ÛŒÚ©Ù†â€ŒÙ‡Ø§ Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯ ØªØ§ Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§ Ø¨Ø§Ø² Ø´ÙˆÙ†Ø¯. Ù†Ø³Ø®Ù‡ Ú†Ø§Ù¾ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªÙ…Ø§Ø³ Ø¯Ø± Ù¾Ø§ÛŒÛŒÙ† Ù‚Ø±Ø§Ø± Ø¯Ø§Ø±Ø¯.</p>

      <div class="contact-list" role="list" aria-label="Ø±Ø§Ù‡â€ŒÙ‡Ø§ÛŒ ØªÙ…Ø§Ø³">
        <div class="contact-item" role="listitem">
          <a href="mailto:info@example.com" title="Ø§ÛŒÙ…ÛŒÙ„" aria-label="Ø§Ø±Ø³Ø§Ù„ Ø§ÛŒÙ…ÛŒÙ„">
            <span class="logo" aria-hidden="true" title="Ø§ÛŒÙ…ÛŒÙ„">
              <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor" aria-hidden="true"><path d="M3 6.5A2.5 2.5 0 015.5 4h13A2.5 2.5 0 0121 6.5v11A2.5 2.5 0 0118.5 20h-13A2.5 2.5 0 013 17.5v-11zM5.5 6L12 10.2 18.5 6"/></svg>
            </span>
            <span class="contact-text visual-hide">info@example.com</span>
          </a>
        </div>

        <div class="contact-item" role="listitem">
          <a href="tel:+989000000000" title="ØªÙ„ÙÙ†" aria-label="ØªÙ…Ø§Ø³ ØªÙ„ÙÙ†ÛŒ">
            <span class="logo" aria-hidden="true" title="ØªÙ„ÙÙ†">
              <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor" aria-hidden="true"><path d="M22 16.9v3a1 1 0 01-1.1 1 19 19 0 01-8.2-3.2 19 19 0 01-5-5A19 19 0 013 3.1 1 1 0 014 2h3a1 1 0 01.9.7l1.2 4a1 1 0 01-.3 1l-1.4 1.4a12 12 0 005 5l1.4-1.4a1 1 0 011-.3l4 1.2a1 1 0 01.7.9z"/></svg>
            </span>
            <span class="contact-text visual-hide">+98 900 000 0000</span>
          </a>
        </div>

        <div class="contact-item" role="listitem">
          <a href="https://wa.me/989000000000" target="_blank" rel="noopener" title="ÙˆØ§ØªØ³â€ŒØ§Ù¾" aria-label="ÙˆØ§ØªØ³â€ŒØ§Ù¾">
            <span class="logo" aria-hidden="true" title="ÙˆØ§ØªØ³â€ŒØ§Ù¾">
              <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor" aria-hidden="true"><path d="M20.52 3.48A11.93 11.93 0 0012 .5 11.94 11.94 0 001.5 12c0 2.1.55 4.05 1.6 5.79L0 24l5.01-1.61A11.93 11.93 0 0012 23.5c6.63 0 12-5.37 12-12 0-3.2-1.25-6.22-3.48-8.02zM12 21.5a9.33 9.33 0 01-4.9-1.45l-.35-.22-3 1 1-3.33-.23-.34A9.28 9.28 0 012.7 12 9.3 9.3 0 1121.3 12 9.28 9.28 0 0112 21.5z"/></svg>
            </span>
            <span class="contact-text visual-hide">09000000000</span>
          </a>
        </div>

        <div class="contact-item" role="listitem">
          <a href="https://t.me/username" target="_blank" rel="noopener" title="ØªÙ„Ú¯Ø±Ø§Ù…" aria-label="ØªÙ„Ú¯Ø±Ø§Ù…">
            <span class="logo" aria-hidden="true" title="ØªÙ„Ú¯Ø±Ø§Ù…">
              <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor" aria-hidden="true"><path d="M21.7 3.3L2.8 11.1c-.8.3-.8 1 .1 1.2l4.1 1.1 1.1 4.1c.2.9 1 1 1.3.1L21.7 3.3z"/></svg>
            </span>
            <span class="contact-text visual-hide">@username</span>
          </a>
        </div>

        <div class="contact-item" role="listitem">
          <a href="https://instagram.com/username" target="_blank" rel="noopener" title="Ø§ÛŒÙ†Ø³ØªØ§Ú¯Ø±Ø§Ù…" aria-label="Ø§ÛŒÙ†Ø³ØªØ§Ú¯Ø±Ø§Ù…">
            <span class="logo" aria-hidden="true" title="Ø§ÛŒÙ†Ø³ØªØ§Ú¯Ø±Ø§Ù…">
              <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor" aria-hidden="true"><path d="M7 2h10a5 5 0 015 5v10a5 5 0 01-5 5H7a5 5 0 01-5-5V7a5 5 0 015-5zm5 6.1A3.9 3.9 0 1015.9 12 3.9 3.9 0 0012 8.1zm4.5-2.6a1.1 1.1 0 11-1.1 1.1 1.1 1.1 0 011.1-1.1z"/></svg>
            </span>
            <span class="contact-text visual-hide">@username</span>
          </a>
        </div>
      </div>

      <div class="print-contact" aria-hidden="false" style="display:none;margin-top:14px;text-align:center">
        <div style="display:flex;flex-direction:column;gap:10px;align-items:center;justify-content:center">
          <div style="display:flex;gap:12px;align-items:center"><span style="width:18px;height:18px;display:inline-grid;place-items:center">âœ‰ï¸</span><span style="font-weight:700">info@example.com</span></div>
          <div style="display:flex;gap:12px;align-items:center"><span style="width:18px;height:18px;display:inline-grid;place-items:center">ğŸ“</span><span style="font-weight:700">+98 900 000 0000</span></div>
          <div style="display:flex;gap:12px;align-items:center"><span style="width:18px;height:18px;display:inline-grid;place-items:center">ğŸ’¬</span><span style="font-weight:700">09000000000</span></div>
        </div>
      </div>
    </section>

    <section id="certs" aria-labelledby="certs-title">
      <h2 id="certs-title">Ù…Ø¯Ø§Ø±Ú© Ùˆ Ú¯ÙˆØ§Ù‡ÛŒÙ†Ø§Ù…Ù‡â€ŒÙ‡Ø§</h2>
      <div class="grid" aria-hidden="false">
        <div class="card"><img src="logo-networkplus.png" alt="Network Plus" loading="lazy"><p>Network+</p></div>
        <div class="card"><img src="logo-ccna.png" alt="CCNA" loading="lazy"><p>CCNA</p></div>
        <div class="card"><img src="logo-ccnp.png" alt="CCNP" loading="lazy"><p>CCNP</p></div>
      </div>
    </section>

    <section id="skills" aria-labelledby="skills-title">
      <h2 id="skills-title">Ù†Ø±Ù…â€ŒØ§ÙØ²Ø§Ø±Ù‡Ø§ Ùˆ Ø¯ÙˆØ±Ù‡â€ŒÙ‡Ø§ÛŒ ØªØ®ØµØµÛŒ</h2>
      <div class="grid">
        <div class="card">
          <img src="logo-wireshark.png" alt="Wireshark" loading="lazy">
          <p>Wireshark</p>
          <div class="skill-bar"><div class="skill-level" data-level="92" aria-hidden="true"></div></div>
        </div>
        <div class="card">
          <img src="logo-issabel.png" alt="Issabel" loading="lazy">
          <p>Issabel</p>
          <div class="skill-bar"><div class="skill-level" data-level="78" aria-hidden="true"></div></div>
        </div>
      </div>
    </section>
  </main>

  <script>
    (function(){
      const qs = s => document.querySelector(s);
      const qsa = s => Array.from(document.querySelectorAll(s));
      qs('#yearNav').textContent = new Date().getFullYear();

      // Nav links: prevent default anchor jump and toggle sections
      qsa('.nav-link').forEach(a=>{
        a.addEventListener('click', ev=>{
          ev.preventDefault();
          const t = a.getAttribute('data-target');
          qsa('section').forEach(sec=>sec.classList.remove('active'));
          const el = qs('#'+t);
          if(el) el.classList.add('active');
          if(document.body.classList.contains('nav-open')) closeNavImmediate();
          window.scrollTo({top:0,behavior:'smooth'});
        });
        a.addEventListener('keydown', e=>{ if(e.key==='Enter' || e.key===' ') { e.preventDefault(); a.click(); } });
      });

      // skill animation
      function animateSkills(){
        qsa('.skill-level').forEach(el=>{
          const v = Number(el.getAttribute('data-level')) || 60;
          el.style.width = v + '%';
        });
      }
      window.addEventListener('load', animateSkills);

      // Mobile nav with safe scroll-lock
      (function(){
        const navToggle = document.getElementById('navToggle');
        const bodyEl = document.body;
        const mainNav = document.getElementById('mainNav');
        const navBackdrop = document.getElementById('navBackdrop');
        let lockPos = 0;

        function lockScroll(){
          lockPos = window.scrollY || document.documentElement.scrollTop;
          document.documentElement.style.scrollBehavior = 'auto';
          bodyEl.style.position = 'fixed';
          bodyEl.style.top = `-${lockPos}px`;
          bodyEl.dataset.scrollY = String(lockPos);
        }
        function unlockScroll(){
          const prev = Number(bodyEl.dataset.scrollY || 0);
          bodyEl.style.position = '';
          bodyEl.style.top = '';
          delete bodyEl.dataset.scrollY;
          window.scrollTo(0, prev);
        }

        function openNav(){
          bodyEl.classList.add('nav-open');
          navToggle.setAttribute('aria-expanded','true');
          navBackdrop.setAttribute('aria-hidden','false');
          lockScroll();
          const first = mainNav.querySelector('.nav-link');
          if(first) first.focus();
        }
        function closeNav(){
          bodyEl.classList.remove('nav-open');
          navToggle.setAttribute('aria-expanded','false');
          navBackdrop.setAttribute('aria-hidden','true');
          unlockScroll();
          navToggle.focus();
        }
        window.closeNavImmediate = function(){
          if(bodyEl.classList.contains('nav-open')){
            bodyEl.classList.remove('nav-open');
            navToggle.setAttribute('aria-expanded','false');
            navBackdrop.setAttribute('aria-hidden','true');
            unlockScroll();
          }
        };

        if(navToggle){
          navToggle.addEventListener('click', ()=>{ if(bodyEl.classList.contains('nav-open')) closeNav(); else openNav(); });
          navToggle.addEventListener('keydown', e=>{ if(e.key==='Enter' || e.key===' ') { e.preventDefault(); navToggle.click(); } });
        }
        if(navBackdrop) navBackdrop.addEventListener('click', closeNav);
        document.addEventListener('keydown', e=>{ if(e.key==='Escape' && bodyEl.classList.contains('nav-open')) closeNav(); });
        window.addEventListener('resize', ()=>{ if(window.innerWidth > 880 && bodyEl.classList.contains('nav-open')) window.closeNavImmediate(); });
      })();

      // Print preview handling (cross-browser)
      (function(){
        const body = document.body;
        let savedActive = null;
        let savedScroll = { x:0, y:0 };
        function enterPrintPreview(){
          const activeEl = document.querySelector('section.active');
          savedActive = activeEl ? activeEl.id : null;
          savedScroll = { x: window.scrollX || 0, y: window.scrollY || 0 };
          body.classList.add('print-preview');
          ['about','bio','contact','certs','skills'].forEach(id=>{
            const el = document.getElementById(id);
            if(el) el.classList.add('active');
          });
        }
        function exitPrintPreview(){
          body.classList.remove('print-preview');
          qsa('section').forEach(sec=>sec.classList.remove('active'));
          if(savedActive){
            const restore = document.getElementById(savedActive);
            if(restore) restore.classList.add('active');
          } else {
            const about = document.getElementById('about');
            if(about) about.classList.add('active');
          }
          setTimeout(()=> window.scrollTo(savedScroll.x, savedScroll.y), 40);
          savedActive = null;
        }

        const printBtn = qs('#printCtrl');
        if(printBtn){
          printBtn.addEventListener('click', ()=>{
            enterPrintPreview();
            setTimeout(()=> window.print(), 120);
          });
        }

        function onBeforePrint(){ if(!body.classList.contains('print-preview')) enterPrintPreview(); }
        function onAfterPrint(){ exitPrintPreview(); }

        if('onbeforeprint' in window){
          window.addEventListener('beforeprint', onBeforePrint);
          window.addEventListener('afterprint', onAfterPrint);
        } else if (window.matchMedia){
          const mql = window.matchMedia('print');
          const handler = e => { if(e.matches) onBeforePrint(); else onAfterPrint(); };
          if(mql.addEventListener) mql.addEventListener('change', handler); else mql.addListener(handler);
        } else {
          window.addEventListener('focus', ()=>{ setTimeout(()=>{ if(body.classList.contains('print-preview')) exitPrintPreview(); }, 120); });
        }
      })();
    })();
  </script>
</body>
</html>
